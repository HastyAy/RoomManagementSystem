@using RoomManager.Shared.Entities
@using Radzen
@using Radzen.Blazor
@using System.ComponentModel.DataAnnotations
@inject DialogService DialogService

<RadzenStack Gap="1rem">
    <RadzenTemplateForm TItem="Room" Data="@Room" Submit="@OnSubmit">
        <DataAnnotationsValidator />
        
        <RadzenRow Gap="1rem">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Room Name *" Style="font-weight: 600;" />
                <RadzenTextBox @bind-Value="@Room.Name" Placeholder="Enter room name" 
                              Style="width: 100%;" MaxLength="100" />
                <RadzenValidationMessage Component="Name" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Room Type" Style="font-weight: 600;" />
                <RadzenDropDown @bind-Value="@Room.Type" Data="@roomTypes" 
                               Placeholder="Select room type" AllowClear="true"
                               Style="width: 100%;" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow Gap="1rem">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Capacity *" Style="font-weight: 600;" />
                <RadzenNumeric @bind-Value="@Room.Capacity" Min="1" Max="500" 
                              Placeholder="Enter capacity" Style="width: 100%;" />
                <RadzenValidationMessage Component="Capacity" />
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Location" Style="font-weight: 600;" />
                <RadzenTextBox @bind-Value="@Room.Location" 
                              Placeholder="Building, Floor, Room number" 
                              Style="width: 100%;" MaxLength="200" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow Gap="1rem">
            <RadzenColumn Size="12">
                <RadzenLabel Text="Description" Style="font-weight: 600;" />
                <RadzenTextArea @bind-Value="@Room.Description" 
                               Placeholder="Additional details about the room..." 
                               Style="width: 100%;" Rows="3" MaxLength="500" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow Gap="1rem" Style="margin-top: 1.5rem;">
            <RadzenColumn Size="6">
                <RadzenButton Text="Cancel" Click="@Cancel" ButtonStyle="ButtonStyle.Light" 
                             Style="width: 100%;" />
            </RadzenColumn>
            <RadzenColumn Size="6">
                <RadzenButton Text="@(IsEdit ? "Update Room" : "Create Room")" 
                             ButtonType="ButtonType.Submit" 
                             ButtonStyle="ButtonStyle.Primary" 
                             Style="width: 100%;" 
                             Disabled="@(!IsFormValid())" />
            </RadzenColumn>
        </RadzenRow>
    </RadzenTemplateForm>
</RadzenStack>

